(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{14:function(t,e,a){},18:function(t,e,a){t.exports=a.p+"static/media/break.f288d915.png"},21:function(t,e,a){t.exports=a(34)},34:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),s=a(16),o=a.n(s),i=a(5),r=a(6),p=a(7),l=a(8),u=(a(14),a(17)),h=a(18),m=a.n(h),d=new u.w3cwebsocket("ws://127.0.0.1:8080"),f=[1920,1080],v=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={impacts:[]},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.refs.canvas.getContext("2d")}},{key:"componentDidUpdate",value:function(t,e,a){var n=Math.PI/180;console.log("update");var c=this.refs.canvas.getContext("2d"),s=this.refs.image;for(var o in this.state.impacts){var i=this.state.impacts[o].rotation*n,r=this.state.impacts[o].X,p=this.state.impacts[o].Y+560>1080?this.state.impacts[o].Y-260:this.state.impacts[o].Y;console.log("".concat(r," ").concat(p));var l=r,u=p,h=s.width,m=s.height;c.translate(l,u),c.rotate(i),c.drawImage(s,-h/2,-m/2,h,m),c.rotate(-i),c.translate(-l,-u)}}},{key:"componentWillMount",value:function(){var t=this,e=this.props.history.location.pathname.substring(1);d.onopen=function(){console.log("WebSocket Client Connected"),d.send('{"name": "'.concat(e,'"}'))},d.onmessage=function(e){var a=e.data,n=JSON.parse(a),c=t.state.impacts;c.push(n),t.setState({impacts:c}),console.log(t.state.impacts)}}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("canvas",{ref:"canvas",width:f[0],height:f[1]}),c.a.createElement("img",{ref:"image",src:m.a,width:"800",height:"560",className:"hidden"}))}}]),a}(c.a.Component),g=a(20),b=a(1),k=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(g.a,null,c.a.createElement(b.a,{path:"/:channel",component:v}))}}]),a}(c.a.Component);o.a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.399c00d3.chunk.js.map